<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>watem Tool Library &mdash; saga_watem unknown documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=3f1b9271"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="watem_flanders Tool Library" href="overview_watem_flanders.html" />
    <link rel="prev" title="Network module" href="topology.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            saga_watem
          </a>
              <div class="version">
                unknown
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="description.html">Model description</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="flanders-tool.html">Flanders application</a></li>
<li class="toctree-l1"><a class="reference internal" href="topology.html">Topology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">WaTEM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#calculate-uparea">[1] Calculate uparea</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ls-calculation">[2] LS calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#watererosion-based-on-ls-rusle">[3] Watererosion based on LS (RUSLE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tillage-erosion-calculation">[4] Tillage erosion calculation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview_watem_flanders.html">WaTEM Flanders</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_topology.html">Topology</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_line_direction.html">Line direction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">saga_watem</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">watem Tool Library</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/DOV-Vlaanderen/saga-watem/blob/main/docs/overview_watem.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="watem-tool-library">
<h1>watem Tool Library<a class="headerlink" href="#watem-tool-library" title="Link to this heading">¶</a></h1>
<h4>
 Tool Library
</h4>
<table border="0">
 <tr>
  <td valign="top">
   <b>
    Name
   </b>
  </td>
  <td valign="top">
   Watem
  </td>
 </tr>
 <tr>
  <td valign="top">
   <b>
    Author
   </b>
  </td>
  <td valign="top">
   Johan Van de Wauw 2016 - 2017 - gebaseerd op originele pascal code van KULeuven.Ontwikkeld in opdracht van Vlaamse overheid, departement Omgeving.
  </td>
 </tr>
 <tr>
  <td valign="top">
   <b>
    ID
   </b>
  </td>
  <td valign="top">
   watem
  </td>
 </tr>
 <tr>
  <td valign="top">
   <b>
    File
   </b>
  </td>
  <td valign="top">
   /__w/saga-watem/saga-watem/build/libs/saga/libwatem.so
  </td>
 </tr>
</table>
<hr/>
<h4>
 Description
</h4>
SAGA Implementatie van het WaTEM model (KULeuven).
<br/>
<br/>
WaTEM is a spatially distributed soil erosion model that was developed at the Physicaland Regional Geography Research Group (K.U.Leuven, Belgium).The development of the SAGA-WaTEM module was financed by Vlaamse overheid (Vlaams Planbureau voor de Omgeving, Departement Omgeving).
<hr/>
<h4>
 Tools
</h4>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#calculate-uparea" id="id1">[1] Calculate uparea</a></p></li>
<li><p><a class="reference internal" href="#ls-calculation" id="id2">[2] LS calculation</a></p></li>
<li><p><a class="reference internal" href="#watererosion-based-on-ls-rusle" id="id3">[3] Watererosion based on LS (RUSLE)</a></p></li>
<li><p><a class="reference internal" href="#tillage-erosion-calculation" id="id4">[4] Tillage erosion calculation</a></p></li>
</ul>
</nav>
<section id="calculate-uparea">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">[1] Calculate uparea</a><a class="headerlink" href="#calculate-uparea" title="Link to this heading">¶</a></h2>
<h4>Tool</h4><table border="0"><tr><td valign="top"><b>Name</b></td><td valign="top">Calculate uparea</td></tr><tr><td valign="top"><b>Author</b></td><td valign="top">Copyright (c) 2006 - 2016 by KULeuven. Converted to SAGA/C++ by Johan Van de Wauw</td></tr><tr><td valign="top"><b>Version</b></td><td valign="top">2023.10.23</td></tr><tr><td valign="top"><b>Library</b></td><td valign="top">watem</td></tr><tr><td valign="top"><b>ID</b></td><td valign="top">1</td></tr><tr><td valign="top"><b>Specification</b></td><td valign="top">grid</td></tr></table><hr><h4>Description</h4>This module converts a digital elevation model grid and a parcel grid and converts it to an upslope area.The method takes into account parcel borders, water (grid value -1) and landuse (forest has value 10000).The upstream area  is computed from higher to lower pixels, within the boundaries of a parceL. At parcel/forest-, parcel/parcel-, parcel/infr-boundaries, the upstream area is reduced with the connectivity  (1-x) parameters. Pits are taken into account, such that flow is transported over maximum number of pixels (PIT_RADIUS) (otherwise ignored). Optionally a grid with Pits and a table with pit information can be generated. No river routing is considered, such that the upland routing 'ends' at the river boundary.<hr><h4>Parameters</h4><table border="1" width="100%" valign="top" cellpadding="5" rules="all"><tr><th>Name</th><th>Type</th><th>Identifier</th><th>Description</th><th>Constraints</th></tr><br><tr><th colspan="5">Input</th></tr><tr><td>Digital elevation model</td><td>Grid, input</td><td>DEM</td><td></td><td></td></tr><tr><td>Parcel grid</td><td>Grid, input</td><td>PRC</td><td>Parcel grid with: <br>- a unique identifier per parcel: [2,9999] <br>- Forest = 10000  <br>- Infrastructure & roads = -2 <br>- Water (river/open water) -1 <br></td><td></td></tr><tr><th colspan="5">Output</th></tr><tr><td>Pit</td><td>Grid, output</td><td>PIT</td><td>Pit id. These id's are linked to the id's in pit data.</td><td></td></tr><tr><td>Upslope Area</td><td>Grid, output</td><td>UPSLOPE_AREA</td><td>Upslope Area: area that flow to a certain pixel</td><td></td></tr><tr><td>Pit data</td><td>Table, output, optional</td><td>PITDATA</td><td>Table per found pit. Coordinate according to the grid in watem.</td><td></td></tr><tr><th colspan="5">Options</th></tr><tr><td>Parcel Connectivity to cropland (%)</td><td>Floating point</td><td>PCTOCROP</td><td>Percentage of water that will be reduced from a cropland (parcel) to another cropland (parcel).</td><td>Minimum: 0.000000<br>Default: 70.000000</td></tr><tr><td>Parcel Connectivity to forest (%)</td><td>Floating point</td><td>PCTOFOREST</td><td>Percentage of water that will be reduced from a cropland (parcel) to forest.</td><td>Minimum: 0.000000<br>Default: 100.000000</td></tr><tr><td>Parcel Connectivity to infrastructure/roads (%)</td><td>Floating point</td><td>PCTOROAD</td><td>Percentage of water that will be reduced from a cropland (parcel) to infrastructure/roads</td><td>Minimum: 0.000000<br>Default: 70.000000</td></tr><tr><td>Flow from pits into closeby cells (within radius) (True/False)</td><td>Boolean</td><td>PIT_FLOW</td><td>If pits occur (local minima in the digital elevation model) water can flow to nearby cells if they are lower and within the PIT_SEARCH radius if this option is enabled.</td><td>Default: 0</td></tr><tr><td>Search radius from pit.</td><td>Integer</td><td>PIT_RADIUS</td><td>Maximum search radius for flow from pits.</td><td>Default: 4</td></tr></table>
<br /></section>
<section id="ls-calculation">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">[2] LS calculation</a><a class="headerlink" href="#ls-calculation" title="Link to this heading">¶</a></h2>
<h4>Tool</h4><table border="0"><tr><td valign="top"><b>Name</b></td><td valign="top">LS calculation</td></tr><tr><td valign="top"><b>Author</b></td><td valign="top">Copyright (c) 2003 Olaf Conrad. Modified by Johan Van de Wauw (2016) to make model identical to WaTEM</td></tr><tr><td valign="top"><b>Version</b></td><td valign="top">2023.10.23</td></tr><tr><td valign="top"><b>Library</b></td><td valign="top">watem</td></tr><tr><td valign="top"><b>ID</b></td><td valign="top">2</td></tr><tr><td valign="top"><b>Specification</b></td><td valign="top">grid</td></tr></table><hr><h4>Description</h4>This module computes the LS-factor given a digital elevation model, parcel grid and upslope area (see calculate uparea. The slope at boundaries is calculated perpendicular to parcel boundaries. Different methods can be used to compute the LS (see 'Method to compute LS').<hr><h4>Parameters</h4><table border="1" width="100%" valign="top" cellpadding="5" rules="all"><tr><th>Name</th><th>Type</th><th>Identifier</th><th>Description</th><th>Constraints</th></tr><br><tr><th colspan="5">Input</th></tr><tr><td>Digital elevation model</td><td>Grid, input</td><td>DEM</td><td>Digital elevation model (m)</td><td></td></tr><tr><td>Upslope Area</td><td>Grid, input</td><td>UPSLOPE_AREA</td><td>Upslope Area: area that flow to a certain pixel. Can be created using the 'Calculate uparea' tool (watem-1).</td><td></td></tr><tr><td>Parcel grid</td><td>Grid, input, optional</td><td>PRC</td><td>Parcel grid with: <br>- a unique identifier per parcel: [2,9999] <br>- Forest = 10000  <br>- Infrastructure & roads = -2 <br>- Water (river/open water) -1 <br></td><td></td></tr><tr><th colspan="5">Output</th></tr><tr><td>Calculated LS</td><td>Grid, output</td><td>LS</td><td>Calculated LS factor</td><td></td></tr><tr><td>Slope</td><td>Grid, output, optional</td><td>SLOPE</td><td>Optional Slope output grid </td><td></td></tr><tr><td>Calculated L</td><td>Grid, output, optional</td><td>L</td><td>This will contain L. </td><td></td></tr><tr><td>Calculated S</td><td>Grid, output, optional</td><td>S</td><td>This will contain S. </td><td></td></tr><tr><th colspan="5">Options</th></tr><tr><td>Use parcel borders in slope calculation.</td><td>Boolean</td><td>USEPRC</td><td>If enabled, only pixels inside the same parcels will be used for slope calculation, to avoid highincorrect slopes due to border effects such as sunken roads and embankments. </td><td>Default: 1</td></tr><tr><td>Method to compute LS</td><td>Choice</td><td>METHOD</td><td>There are four options available: <br>  - Moore & Nieber (1989):  see model description-page. - Desmet & Govers (1996): see model description-page. Using McCool et al. (1989, 1987) for the parameter m. <br> - Van Oost (2003): same as Desmet & Govers, but with a different computation model for the parameter m. <br> - Wishmeier a Smith (1978): see model description-page.<br> - <br>.</td><td>Available Choices:<br>[0] Moore & Nieber 1989<br>[1] Desmet & Govers 1996 (default of WaTEM)<br>[2] Wischmeier & Smith 1978<br>[3] Van Oost, 2003<br>Default: 1</td></tr></table>
<br /></section>
<section id="watererosion-based-on-ls-rusle">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">[3] Watererosion based on LS (RUSLE)</a><a class="headerlink" href="#watererosion-based-on-ls-rusle" title="Link to this heading">¶</a></h2>
<h4>Tool</h4><table border="0"><tr><td valign="top"><b>Name</b></td><td valign="top">Watererosion based on LS (RUSLE)</td></tr><tr><td valign="top"><b>Author</b></td><td valign="top">2016-2017  - Johan Van de Wauw</td></tr><tr><td valign="top"><b>Version</b></td><td valign="top">2023.10.23</td></tr><tr><td valign="top"><b>Library</b></td><td valign="top">watem</td></tr><tr><td valign="top"><b>ID</b></td><td valign="top">3</td></tr><tr><td valign="top"><b>Specification</b></td><td valign="top">grid</td></tr></table><hr><h4>Description</h4>Determine watererosion based on LS(grid)-, K(grid)-, C(grid)-, R(value)- and P(value)-factor. A correction for accounting differences in resolution can be used (see 'Resolution correction factor'). In addition the RUSLE values can be limited to a maximum value (see 'Flag maximum gross erosion'). A NULL value in K, C or LS return a NULL value<hr><h4>Parameters</h4><table border="1" width="100%" valign="top" cellpadding="5" rules="all"><tr><th>Name</th><th>Type</th><th>Identifier</th><th>Description</th><th>Constraints</th></tr><br><tr><th colspan="5">Input</th></tr><tr><td>LS</td><td>Grid, input</td><td>LS</td><td>LS: topographic slope and length factor (dimensionless), can be created using the 'LS calculations' tool (watem-2).</td><td></td></tr><tr><td>K-factor grid</td><td>Grid, input</td><td>K</td><td>soil erodibility factor (K-factor, kg ha MJ-1 mm-1)</td><td></td></tr><tr><td>C-factor Grid</td><td>Grid, input</td><td>C</td><td>Grid containing the crop and management factor. Should be defined as a grid with values between 0 and 1.</td><td></td></tr><tr><th colspan="5">Output</th></tr><tr><td>Water erosion</td><td>Grid, output</td><td>WATER_EROSION</td><td>Average soil loss due to rill and interrill erosion (kg ha-1 year-1)</td><td></td></tr><tr><th colspan="5">Options</th></tr><tr><td>R-factor value</td><td>Floating point</td><td>R</td><td>rainfall erosivity factor (MJ mm ha-1 year-1)</td><td>Minimum: 0.000000<br>Default: 880.000000</td></tr><tr><td>P-factor value</td><td>Floating point</td><td>P</td><td>erosion control factor (dimensionless, between 0 and 1) </td><td>Minimum: 0.000000<br>Default: 1.000000</td></tr><tr><td>Resolution correction factor</td><td>Floating point</td><td>CORR</td><td>Correction factor for resolution as RUSLE was determined on resolution of 22.1 meter. This value is set to 1.4 for grids of 5x5 (see Notebaert et al. 2006)</td><td>Minimum: 0.000000<br>Default: 1.400000</td></tr><tr><td>Flag maximum gross erosion</td><td>Boolean</td><td>EROSION_CROP_MAX</td><td>Use maximum allowed erosion per pixel (True/false)</td><td>Default: 1</td></tr><tr><td>Maximum allowed gross erosion.</td><td>Floating point</td><td>EROSION_MAX</td><td>Maximum allowed erosion per pixel, higher values are set to the specific defined value (default 150).</td><td>Minimum: 0.000000<br>Default: 150.000000</td></tr></table>
<br /></section>
<section id="tillage-erosion-calculation">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">[4] Tillage erosion calculation</a><a class="headerlink" href="#tillage-erosion-calculation" title="Link to this heading">¶</a></h2>
<h4>Tool</h4><table border="0"><tr><td valign="top"><b>Name</b></td><td valign="top">Tillage erosion calculation</td></tr><tr><td valign="top"><b>Author</b></td><td valign="top">Copyright (c) 2006 - 2016 by KU Leuven. Converted to SAGA/C++ by Johan Van de Wauw</td></tr><tr><td valign="top"><b>Version</b></td><td valign="top">2023.10.23</td></tr><tr><td valign="top"><b>Library</b></td><td valign="top">watem</td></tr><tr><td valign="top"><b>ID</b></td><td valign="top">4</td></tr><tr><td valign="top"><b>Specification</b></td><td valign="top">grid</td></tr></table><hr><h4>Description</h4>Calculation of Tillage Erosion based on DTM (grid) and parcels (grid). Based on the code from WaTEM (KU Leuven). Tillage erosion, or soil translocation by tillage, is calculated according to the method of Van Oost et al. (2000). See model description for more information on the formula's. Note that the tillage transport coefficient is hardcoded being 600 kg/m.<hr><h4>Parameters</h4><table border="1" width="100%" valign="top" cellpadding="5" rules="all"><tr><th>Name</th><th>Type</th><th>Identifier</th><th>Description</th><th>Constraints</th></tr><br><tr><th colspan="5">Input</th></tr><tr><td>Digital elevation model</td><td>Grid, input</td><td>DEM</td><td>Digital Elevation Model (m).</td><td></td></tr><tr><td>Parcel grid</td><td>Grid, input</td><td>PRC</td><td>Parcel grid with: <br>- a unique identifier per parcel: [2,9999] <br>- Forest = 10000  <br>- Infrastructure & roads = -2 <br>- Water (rivers and open water) = -1 <br></td><td></td></tr><tr><th colspan="5">Output</th></tr><tr><td>Tillage erosion</td><td>Grid, output</td><td>TILL</td><td>Average soil loss due to tillage erosion (kg ha-1 year-1)</td><td></td></tr></table>
<br /></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="topology.html" class="btn btn-neutral float-left" title="Network module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="overview_watem_flanders.html" class="btn btn-neutral float-right" title="watem_flanders Tool Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2024 Johan Van de Wauw.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>